<!DOCTYPE html>
<meta charset="utf-8">
<head>
    <!--<meta name="viewport" content="width=device-width, initial-scale=1">-->

    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="https://cdn.rawgit.com/cmzmasek/phyloxml-js/master/lib/sax.js"></script>
    <script src="https://rawgit.com/cmzmasek/phyloxml-js/master/phyloxml_parser.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>
    <script src="forester.js"></script>
    <script src="archaeopteryx.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css">
    <!--<link rel="stylesheet" href="/resources/demos/style.css">-->

    <script>
        function load() {

            var options = {};
            options.phylogram = true;
            options.dynahide = true;
            options.showBranchLengthValues = true;
            options.showConfidenceValues = true;
            options.showNodeName = true;
            options.showSequence = false;
            options.showTaxonomy = false;
            options.showTaxonomyCode = true;
            options.showTaxonomyScientificName = true;
            options.showTaxonomyCommonName = true;
            options.showTaxonomyRank = true;
            options.showTaxonomySynonyms = true;
            options.showSequenceSymbol = true;
            options.showSequenceName = true;
            options.showSequenceGeneSymbol = true;
            options.showDisributions = true;
            options.showInternalNodes = true;
            options.showExternalNodes = false;
            options.showInternalLabels = true;
            options.showExternalLabels = true;
            options.branchWidthDefault = 2;
            options.internalNodeSize = 3;
            options.externalNodeFontSize = 10;
            options.internalNodeFontSize = 9;
            options.branchDataFontSize = 7;
            options.branchColorDefault = "#aaaaaa";
            options.labelColorDefault = "#202020";
            options.backgroundColorDefault = "#f0f0f0";
            options.found0ColorDefault = "#00ff00";
            options.found1ColorDefault = "#ff0000";
            options.found0and1ColorDefault = "#00ffff";
            options.collapasedLabelLength = 7;
            options.minBranchLengthValueToShow = 0.01;
            options.minConfidenceValueToShow = 0.5;
            options.searchIsCaseSensitive = false;
            options.searchIsPartial = false;
            options.searchUsesRegex = true;
            var settings = {};
            settings.rootOffset = 180;
            settings.displayWidth = 1000;
            settings.displayHight = 1000;
            settings.reCenterAfterCollapse = false;

            //apaf
            //apaf5
            //amphi_frost
            //AtNBSpos
            //two_trees
            //example_2
            //phyloxml_test2
            //bcl_2
            //b
            //pfam00046_2
            //pfam00046
            //m
            //v1
            //v1_2
            var loc = 'https://dl.dropboxusercontent.com/u/14456265/phyloxml_trees/apaf5.xml';
            jQuery.get(loc,
                    function (data) {
                        var trees = phyloXmlParser.parse(data, {trim: true, normalize: true});
                        console.log(JSON.stringify(trees[0], 1));
                        archaeopteryx.launch('#phylogram1', trees[0], options, settings);
                    },
                    "text")
                    .fail(function () {
                        alert("error: failed to read tree(s) from \"" + loc + "\"");
                    });
        }
    </script>



</head>
<body onload="load()">

<table>
    <tr>
        <td>
            <style type="text/css">

                .overlay {
                    background-color: #f0f0f0;
                }

            </style>
            <h2>Archaeopteryx-js Demo: v 0_48</h2>
            <div id='phylogram1'></div>

            <div style="position:absolute; left: 20px; top: 60px;" id="controls1" class="ui-widget-content">
            </div>

            <div style="position:absolute; right: 20px; top: 60px;" id="controls2" class="ui-widget-content">
            </div>

        </td>
    </tr>
</table>


</body>
